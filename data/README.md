# 数据存储目录

这个目录用于存储项目运行时产生的用户数据，便于后续升级过程中继承历史数据。

## 目录结构

```
data/
├── README.md           # 本说明文件
├── backup/            # 数据备份目录
├── exports/           # 数据导出目录
└── temp/              # 临时文件目录
```

## 数据存储说明

### 当前存储方式
- 项目目前使用浏览器的 `localStorage` 存储用户数据
- 数据包括：任务列表、完成历史、时间统计、用户设置等
- 数据存储在浏览器本地，不会丢失

### 数据备份建议
1. **定期导出**：建议用户定期使用"导出数据"功能备份数据
2. **升级前备份**：在项目升级前，请先导出当前数据
3. **多设备同步**：可以通过导出/导入功能在多设备间同步数据

### 升级数据继承
在项目升级时，请按以下步骤操作：

1. **升级前**：
   - 在编辑任务页面点击"导出数据"
   - 将导出的JSON文件保存到 `data/backup/` 目录
   - 记录导出时间和版本信息

2. **升级后**：
   - 在新版本中使用"导入数据"功能
   - 选择之前备份的JSON文件
   - 验证数据是否正确导入

3. **数据验证**：
   - 检查任务列表是否完整
   - 验证历史完成记录
   - 确认时间统计数据

### 数据格式说明
导出的数据为JSON格式，包含以下主要字段：

```json
{
  "username": "用户名",
  "tasks": ["任务列表"],
  "taskTemplates": {
    "daily": [/* 每日任务模板 */]
  },
  "oneTimeTasks": [/* 一次性任务 */],
  "routineTasks": [/* 例行任务 */],
  "completionHistory": {/* 完成历史 */},
  "taskTimes": {/* 任务时间统计 */},
  "taskExecutions": {/* 任务执行记录 */},
  "focusRecords": {/* 专注记录 */}
}
```

### 注意事项
- 请勿手动修改数据文件，可能导致数据损坏
- 导入数据前建议先备份当前数据
- 如遇到数据问题，可以尝试重置为默认设置
- 建议定期清理临时文件和过期备份

### 技术说明
- 数据存储使用 `localStorage` API
- 存储容量限制：通常为 5-10MB
- 数据持久性：除非用户主动清除，否则数据永久保存
- 隐私保护：所有数据仅存储在用户本地设备