# 🌐 宝塔面板手动添加网站指南

## 问题说明
虽然服务器配置正确，但网站没有在宝塔面板中注册，导致无法正常访问。

---

## 🚀 **方案1：自动添加脚本（推荐）**

### **执行步骤：**
```bash
# 上传并执行自动添加脚本
scp deploy/add-site-to-baota.sh root@115.159.5.111:/tmp/
ssh root@115.159.5.111
chmod +x /tmp/add-site-to-baota.sh
/tmp/add-site-to-baota.sh
```

---

## 🖱️ **方案2：宝塔面板手动添加**

### **第1步：访问宝塔面板**
- 打开浏览器访问：`http://115.159.5.111:8888`
- 输入宝塔面板用户名和密码登录

### **第2步：进入网站管理**
- 点击左侧菜单 **"网站"**
- 点击 **"添加站点"** 按钮

### **第3步：填写网站信息**
```
域名：115.159.5.111
备注：任务管理系统
根目录：/www/wwwroot/task-manager
```

### **第4步：其他设置**
- **创建数据库**：否（不勾选）
- **创建FTP**：否（不勾选）
- **PHP版本**：纯静态（不需要PHP）

### **第5步：提交创建**
- 点击 **"提交"** 按钮
- 等待创建完成

### **第6步：验证创建**
- 在网站列表中应该能看到新添加的站点
- 状态应该显示为 **"正常"**

---

## 🔧 **方案3：检查现有配置**

### **如果网站已存在但不显示：**

#### **检查网站目录：**
```bash
ls -la /www/wwwroot/task-manager/
```
应该看到项目文件，包括 `index.html`

#### **检查Nginx配置：**
```bash
cat /www/server/nginx/conf/vhost/task-manager.conf
```
应该包含正确的域名和目录配置

#### **检查权限：**
```bash
ls -ld /www/wwwroot/task-manager/
```
应该显示 `www:www` 所有者

---

## 🎯 **添加后的验证步骤**

### **第1步：检查宝塔面板**
- 刷新网站页面
- 确认 `task-manager` 站点出现在列表中
- 状态显示为 **"运行中"**

### **第2步：测试访问**
- 浏览器访问：`http://115.159.5.111`
- 应该显示任务管理系统主页

### **第3步：功能测试**
- 测试添加任务功能
- 测试任务完成功能
- 测试底部导航

---

## 📊 **常见问题解决**

### **问题1：添加站点时提示"目录已存在"**
**解决方案：**
- 选择 **"我确定使用此目录"**
- 或者先删除现有目录，重新创建

### **问题2：网站显示403错误**
**解决方案：**
```bash
# 修复权限
chown -R www:www /www/wwwroot/task-manager
chmod -R 755 /www/wwwroot/task-manager
```

### **问题3：网站显示404错误**
**解决方案：**
- 检查 `index.html` 文件是否存在
- 检查Nginx配置中的 `root` 路径是否正确

### **问题4：宝塔面板中看不到网站**
**解决方案：**
- 刷新浏览器页面
- 重启宝塔面板服务：`bt restart`
- 手动重新添加网站

---

## 🎉 **成功标志**

### **宝塔面板中：**
- ✅ 网站列表显示 `task-manager`
- ✅ 状态显示 **"运行中"**
- ✅ 域名显示 `115.159.5.111`

### **浏览器访问：**
- ✅ `http://115.159.5.111` 正常打开
- ✅ 显示任务管理系统界面
- ✅ 所有功能正常工作

---

## 💡 **最终建议**

1. **优先使用自动脚本** - 最快最可靠
2. **如果脚本失败，手动添加** - 通过宝塔面板界面
3. **添加后立即测试** - 确保一切正常

**预计3-5分钟即可完全解决问题！**

---

## 🔗 **相关命令**

### **检查网站状态：**
```bash
# 检查进程
pgrep nginx

# 检查端口
ss -tlnp | grep :80

# 测试访问
curl -I http://127.0.0.1
```

### **重启服务：**
```bash
# 重启Nginx
/etc/init.d/nginx restart

# 重启宝塔面板
bt restart