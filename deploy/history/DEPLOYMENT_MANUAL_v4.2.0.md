# ğŸš€ éƒ¨ç½²æ‰‹å†Œ v4.2.0
## å°ä¹…ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ - æ•°æ®ä¸€è‡´æ€§å¢å¼ºç‰ˆ

---

## ğŸ“‹ **ç‰ˆæœ¬ä¿¡æ¯**

- **ç‰ˆæœ¬å·**: v4.2.0
- **å‘å¸ƒæ—¥æœŸ**: 2025å¹´1æœˆ26æ—¥
- **ç±»å‹**: åŠŸèƒ½å¢å¼ºç‰ˆæœ¬
- **ä¸»è¦æ›´æ–°**: æ•°æ®ä¸€è‡´æ€§ä¿®å¤ã€è·¨æµè§ˆå™¨åŒæ­¥

---

## ğŸ¯ **éƒ¨ç½²ç›®æ ‡å¹³å°**

### **1. GitHub Pages**
### **2. Vercel**
### **3. 115.159.5.111 æœåŠ¡å™¨**

---

## ğŸ“¦ **éƒ¨ç½²å‰å‡†å¤‡**

### **æ–‡ä»¶æ¸…å•æ£€æŸ¥**
```bash
# æ ¸å¿ƒæ–‡ä»¶
âœ… index.html
âœ… manifest.json
âœ… package.json

# JavaScriptæ–‡ä»¶
âœ… js/main.js
âœ… js/simple-storage.js
âœ… js/data-consistency-fix.js      # æ–°å¢
âœ… js/cross-browser-sync.js        # æ–°å¢
âœ… js/unified-storage.js           # æ–°å¢

# APIæ–‡ä»¶
âœ… api/data-sync.php               # æ–°å¢

# æ ·å¼å’Œèµ„æº
âœ… css/style.css
âœ… icon-192.svg
âœ… icon-512.svg
```

### **ç‰ˆæœ¬æ›´æ–°**
<replace_in_file>
<path>package.json</path>
<diff>
<<<<<<< SEARCH>
  "version": "4.1.0",
=======
  "version": "4.2.0",
>>>>>>> REPLACE
</diff>
</replace_in_file>

<replace_in_file>
<path>manifest.json</path>
<diff>
<<<<<<< SEARCH>
  "version": "4.1.0",
=======
  "version": "4.2.0",
>>>>>>> REPLACE
</diff>
</replace_in_file>

---

## ğŸŒ **GitHub Pages éƒ¨ç½²**

### **æ­¥éª¤1: æ¨é€ä»£ç åˆ°GitHub**
```bash
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤æ›´æ”¹
git commit -m "ğŸš€ å‘å¸ƒ v4.2.0 - æ•°æ®ä¸€è‡´æ€§å¢å¼ºç‰ˆ

âœ¨ æ–°åŠŸèƒ½:
- æ•°æ®ä¸€è‡´æ€§è‡ªåŠ¨ä¿®å¤
- è·¨æµè§ˆå™¨å®æ—¶åŒæ­¥
- æ™ºèƒ½é”™è¯¯æ¢å¤
- æ•°æ®å¤‡ä»½æœºåˆ¶

ğŸ”§ ä¼˜åŒ–:
- å­˜å‚¨ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–
- ç½‘ç»œè¯·æ±‚ä¼˜åŒ–
- å…¼å®¹æ€§æ”¹è¿›

ğŸ› ä¿®å¤:
- è·¨æµè§ˆå™¨ä»»åŠ¡æ•°é‡ä¸ä¸€è‡´é—®é¢˜
- å­˜å‚¨ç³»ç»Ÿå†²çªé—®é¢˜
- å…¨å±€æ–¹æ³•é‡å¤å®šä¹‰é—®é¢˜"

# æ¨é€åˆ°GitHub
git push origin main
```

### **æ­¥éª¤2: å¯ç”¨GitHub Pages**
1. è¿›å…¥GitHubä»“åº“è®¾ç½®
2. æ‰¾åˆ°"Pages"é€‰é¡¹
3. é€‰æ‹©"Deploy from a branch"
4. é€‰æ‹©"main"åˆ†æ”¯
5. ç‚¹å‡»"Save"

### **æ­¥éª¤3: éªŒè¯éƒ¨ç½²**
- è®¿é—®: `https://[username].github.io/[repository-name]`
- æ£€æŸ¥æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- æµ‹è¯•æ•°æ®ä¸€è‡´æ€§ä¿®å¤åŠŸèƒ½

---

## âš¡ **Vercel éƒ¨ç½²**

### **æ­¥éª¤1: è¿æ¥GitHubä»“åº“**
1. ç™»å½• [vercel.com](https://vercel.com)
2. ç‚¹å‡»"New Project"
3. é€‰æ‹©GitHubä»“åº“
4. ç‚¹å‡»"Import"

### **æ­¥éª¤2: é…ç½®éƒ¨ç½²è®¾ç½®**
```json
{
  "name": "task-card-manager",
  "version": 2,
  "builds": [
    {
      "src": "**/*",
      "use": "@vercel/static"
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "/api/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/$1"
    }
  ]
}
```

### **æ­¥éª¤3: ç¯å¢ƒå˜é‡è®¾ç½®**
```bash
# å¦‚æœéœ€è¦APIåŠŸèƒ½ï¼Œè®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡
SYNC_ENABLED=true
DATA_STORAGE_PATH=/tmp/task-data
```

### **æ­¥éª¤4: éƒ¨ç½²å’ŒéªŒè¯**
- Vercelä¼šè‡ªåŠ¨éƒ¨ç½²
- è®¿é—®æä¾›çš„URL
- æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

---

## ğŸ–¥ï¸ **115.159.5.111 æœåŠ¡å™¨éƒ¨ç½²**

### **æ­¥éª¤1: å‡†å¤‡éƒ¨ç½²åŒ…**
```bash
# åˆ›å»ºéƒ¨ç½²åŒ…
tar -czf task-manager-v4.2.0.tar.gz \
  --exclude='.git' \
  --exclude='node_modules' \
  --exclude='.codebuddy' \
  --exclude='deploy/history' \
  .

# æ£€æŸ¥åŒ…å¤§å°
ls -lh task-manager-v4.2.0.tar.gz
```

### **æ­¥éª¤2: ä¸Šä¼ åˆ°æœåŠ¡å™¨**
```bash
# ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
scp task-manager-v4.2.0.tar.gz root@115.159.5.111:/tmp/

# ä¸Šä¼ éƒ¨ç½²è„šæœ¬
scp deploy/one-click-deploy.sh root@115.159.5.111:/tmp/
```

### **æ­¥éª¤3: æ‰§è¡Œéƒ¨ç½²**
```bash
# SSHè¿æ¥æœåŠ¡å™¨
ssh root@115.159.5.111

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
chmod +x /tmp/one-click-deploy.sh
/tmp/one-click-deploy.sh
```

### **æ­¥éª¤4: å®å¡”é¢æ¿é…ç½®**
1. **ç™»å½•å®å¡”é¢æ¿**: http://115.159.5.111:8888
2. **æ·»åŠ ç½‘ç«™**:
   - åŸŸå: `115.159.5.111`
   - æ ¹ç›®å½•: `/www/wwwroot/task-manager`
   - PHPç‰ˆæœ¬: çº¯é™æ€ï¼ˆæˆ–PHP 8.0ç”¨äºAPIï¼‰
3. **é…ç½®SSL**ï¼ˆå¯é€‰ï¼‰
4. **è®¾ç½®ä¼ªé™æ€**ï¼ˆå¦‚éœ€è¦ï¼‰

### **æ­¥éª¤5: éªŒè¯éƒ¨ç½²**
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status nginx

# æ£€æŸ¥ç½‘ç«™æ–‡ä»¶
ls -la /www/wwwroot/task-manager/

# æµ‹è¯•è®¿é—®
curl -I http://115.159.5.111
```

---

## ğŸ”§ **éƒ¨ç½²åé…ç½®**

### **æ•°æ®åŒæ­¥APIé…ç½®**
å¦‚æœæœåŠ¡å™¨æ”¯æŒPHPï¼Œé…ç½®æ•°æ®åŒæ­¥åŠŸèƒ½ï¼š

```bash
# åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p /www/wwwroot/task-manager/data
chmod 755 /www/wwwroot/task-manager/data

# è®¾ç½®æƒé™
chown -R www:www /www/wwwroot/task-manager/
```

### **Nginxé…ç½®ä¼˜åŒ–**
```nginx
# æ·»åŠ åˆ° /www/server/nginx/conf/vhost/task-manager.conf
location /api/ {
    try_files $uri $uri/ /api/index.php?$query_string;
}

# å¯ç”¨gzipå‹ç¼©
gzip on;
gzip_types text/css application/javascript application/json;

# è®¾ç½®ç¼“å­˜
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

---

## ğŸ§ª **éƒ¨ç½²éªŒè¯æ¸…å•**

### **åŸºç¡€åŠŸèƒ½æµ‹è¯•**
- [ ] é¡µé¢æ­£å¸¸åŠ è½½
- [ ] ä»»åŠ¡å¡ç‰‡æ˜¾ç¤ºæ­£ç¡®
- [ ] ä»»åŠ¡å®ŒæˆåŠŸèƒ½æ­£å¸¸
- [ ] è¿›åº¦ç»Ÿè®¡å‡†ç¡®
- [ ] å¯¼èˆªåŠŸèƒ½æ­£å¸¸

### **æ–°åŠŸèƒ½æµ‹è¯•**
- [ ] æ•°æ®ä¸€è‡´æ€§è‡ªåŠ¨ä¿®å¤
- [ ] è·¨æµè§ˆå™¨æ•°æ®åŒæ­¥
- [ ] é”™è¯¯è‡ªåŠ¨æ¢å¤
- [ ] æ•°æ®å¤‡ä»½åŠŸèƒ½

### **æ€§èƒ½æµ‹è¯•**
- [ ] é¡µé¢åŠ è½½é€Ÿåº¦ < 3ç§’
- [ ] ä»»åŠ¡æ“ä½œå“åº” < 1ç§’
- [ ] æ•°æ®åŒæ­¥å»¶è¿Ÿ < 5ç§’
- [ ] å†…å­˜ä½¿ç”¨ < 50MB

### **å…¼å®¹æ€§æµ‹è¯•**
- [ ] Chromeæµè§ˆå™¨
- [ ] Firefoxæµè§ˆå™¨
- [ ] Safariæµè§ˆå™¨
- [ ] Edgeæµè§ˆå™¨
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨

---

## ğŸš¨ **æ•…éšœæ’é™¤**

### **å¸¸è§é—®é¢˜**

#### **é—®é¢˜1: æ•°æ®ä¸åŒæ­¥**
```bash
# æ£€æŸ¥APIæ˜¯å¦å¯ç”¨
curl http://115.159.5.111/api/data-sync.php

# æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
# æ‰“å¼€F12 -> ConsoleæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
```

#### **é—®é¢˜2: ä»»åŠ¡æ•°é‡ä¸ä¸€è‡´**
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
fixDataConsistency();
showDataReport();
```

#### **é—®é¢˜3: é¡µé¢æ— æ³•è®¿é—®**
```bash
# æ£€æŸ¥NginxçŠ¶æ€
/etc/init.d/nginx status

# æ£€æŸ¥ç«¯å£ç›‘å¬
ss -tlnp | grep :80

# æ£€æŸ¥é˜²ç«å¢™
firewall-cmd --list-all
```

### **ç´§æ€¥æ¢å¤**
```bash
# æ¢å¤åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
cd /www/wwwroot/task-manager
tar -xzf /root/backup-task-manager-*.tar.gz

# é‡å¯æœåŠ¡
/etc/init.d/nginx restart
```

---

## ğŸ“Š **éƒ¨ç½²æˆåŠŸæŒ‡æ ‡**

### **æŠ€æœ¯æŒ‡æ ‡**
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- âœ… APIå“åº”æ—¶é—´ < 1ç§’
- âœ… æ•°æ®åŒæ­¥å»¶è¿Ÿ < 5ç§’
- âœ… é”™è¯¯ç‡ < 0.1%

### **ç”¨æˆ·ä½“éªŒæŒ‡æ ‡**
- âœ… ä»»åŠ¡æ“ä½œæµç•…
- âœ… æ•°æ®ä¸€è‡´æ€§100%
- âœ… è·¨æµè§ˆå™¨ä½“éªŒä¸€è‡´
- âœ… é”™è¯¯è‡ªåŠ¨æ¢å¤

### **ç¨³å®šæ€§æŒ‡æ ‡**
- âœ… æœåŠ¡å¯ç”¨æ€§ > 99.9%
- âœ… æ•°æ®ä¸¢å¤±ç‡ = 0%
- âœ… è‡ªåŠ¨æ¢å¤æˆåŠŸç‡ > 95%

---

## ğŸ‰ **éƒ¨ç½²å®Œæˆ**

### **è®¿é—®åœ°å€**
- **GitHub Pages**: `https://[username].github.io/[repository-name]`
- **Vercel**: `https://[project-name].vercel.app`
- **115æœåŠ¡å™¨**: `http://115.159.5.111`

### **ç®¡ç†å·¥å…·**
- **æ•°æ®ä¿®å¤**: æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ `fixDataConsistency()`
- **æ•°æ®æŠ¥å‘Š**: æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ `showDataReport()`
- **æ•°æ®é‡ç½®**: æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ `resetAllData()`

### **ç›‘æ§å’Œç»´æŠ¤**
- å®šæœŸæ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
- ç›‘æ§ç”¨æˆ·åé¦ˆ
- å®šæœŸå¤‡ä»½æ•°æ®
- å…³æ³¨æ€§èƒ½æŒ‡æ ‡

**ğŸ¯ v4.2.0éƒ¨ç½²å®Œæˆï¼ç”¨æˆ·ç°åœ¨å¯ä»¥äº«å—æ›´ç¨³å®šã€æ›´ä¸€è‡´çš„ä»»åŠ¡ç®¡ç†ä½“éªŒï¼**