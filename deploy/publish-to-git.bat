@echo off
chcp 65001 > nul
setlocal

:: ==================================================
:: Git å‘å¸ƒè„šæœ¬ (v5.0.0)
:: åŠŸèƒ½: è‡ªåŠ¨åŒ– add, commit, push æµç¨‹
:: ==================================================

echo.
echo =======================================
echo   Git å¿«é€Ÿå‘å¸ƒè„šæœ¬
echo =======================================
echo.

:: æ£€æŸ¥æ˜¯å¦åœ¨ Git ä»“åº“çš„æ ¹ç›®å½•
if not exist ".git" (
    echo [é”™è¯¯] æœªæ‰¾åˆ° .git ç›®å½•ã€‚è¯·åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œæ­¤è„šæœ¬ã€‚
    pause
    exit /b
)

:: è·å–æäº¤ä¿¡æ¯
set "commit_message="
set /p "commit_message=è¯·è¾“å…¥æœ¬æ¬¡æäº¤çš„ä¿¡æ¯ (ä¾‹å¦‚: 'ä¿®å¤äº†UIæ˜¾ç¤ºbug'): "

if not defined commit_message (
    echo [è­¦å‘Š] æœªè¾“å…¥æäº¤ä¿¡æ¯ï¼Œå°†ä½¿ç”¨é»˜è®¤ä¿¡æ¯ã€‚
    set "commit_message=Update: å¸¸è§„æ›´æ–°"
)

echo.
echo [1/3] æ­£åœ¨å°†æ‰€æœ‰æ›´æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº...
git add .
echo   - å®Œæˆ: `git add .`
echo.

echo [2/3] æ­£åœ¨æäº¤æ›´æ”¹...
git commit -m "%commit_message%"
echo   - å®Œæˆ: `git commit -m "%commit_message%"`
echo.

echo [3/3] æ­£åœ¨æ¨é€åˆ°è¿œç¨‹ä»“åº“ (origin main)...
git push origin main

echo.
echo =======================================
echo   ğŸ‰ å‘å¸ƒæˆåŠŸ!
echo =======================================
echo.
echo   æ‰€æœ‰æ›´æ”¹å·²æˆåŠŸæ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚
echo.
pause